---
title: "Layout Animations with Framer Motion"
publishedAt: "2022-03-20"
summary: "Learn about how to do layout animations with ease"
---

Framer Motion provides a lot of powerful tools that require minimum effort to use. I've used it for a couple of years now both in my professional work and also a lot in my hobby projects. I recently got to play around with the new `LayoutGroup` component that took the place of the (now depcrated) `AnimateSharedLayout` component. They're not exactly the same, and do not serve the exact same purpose but work in a similar fashion.

In this post we will start out looking at the most basic usage of Framer Motions `layout` prop, and how we can leverage it to give us some fancy layout animations. Then we will move on to some more advanced scenarios where components may affect eachothers layout and how we can use `LayoutGroup` to help them animate in a synchronized fashion.

### What is layout animations, and why do I need them?

Layout animations can be a great when you have an application UI where your components may be removed, switched places, added or resized. Without any animation your components will just show up in their own positions without any indication of where they came from, or where they are going. This might confuse users as to what actually happening. Layout animations can be used to guide the users attention to what is happening to the elements.

When we talk about layout animations we are referring to changes to any of the following properties:

- Positions - `grid`, `flex` or `position`
- Size properties - `width` or `height`
- Position of elements - adding / removing an item from a list of items

### Layout animation basics

With Framer Motion we can animate any `motion` component between different <b>layouts</b> by applying the `layout` prop to the element. Now the element will automatically animate to any layout changes resulting from any re-renders.

Some practical examples of when this would be happning:

- Adding / removing items in a list of items
- The `width` of an item changing due to some additional data being added / removed
- The sorting of a list is reversed and we change `flex-start` to `flex-end`

Let's take a look at a basic example where we can change the `justify-self` property on a simple square div.

<PositionWidget />

This is how easy it is to get started with layout animations using Framer Motion. The only thing we really needed to do was to add the `layout` prop the the motion element and we get this smooth transition between different positions.

By adding this kind of animation to your UI you can help your user to follow what is happening on the screen and make elements move around more naturally.

Next we will take a look at another example that might be more similiar to something you'd might encouter in your own applications. We are going to look at a simple list component and see how we can leverage layout animations to help the user understand the actions taken when interacting with the list.

We will also introduce the `AnimatePresence` component from Framer Motion. `AnimatePresence` allows us to animate an unmounting component, so when we remove it from the list we can give it a nice "fade out" effect.

<SimpleListWidget />

That was a little more code than the previous example! However in terms of code related to animations, we did not actually add that much. Let's try and break it down.

- We wrapped out list elements in an `AnimatePresence` component. This allows us to access the `exit` prop on the motion element. The `exit` prop is what we use to animate when a component is unmounting. Giving it a value of `opacity: 0` will create the fade-out effect when we remove an item from the list.
- We are still using the `layout` prop on the motion elements. This is what allows each list item to smoothly transition to it's new position after an item is removed from the list.

### Diving deeper into the layout prop

Now we know how we can use the `layout` prop to enable smooth transitions for layout animations. But in some more advanced use-cases you might find that your content will look distorted or squished during the animation transition.

Let's take a look at a real world example of this happening. Let's imagine we have a couple of `<Badge />` components that acts as some type of filters on a shopping website.

<BadgeWidget />

What happens is that when we remove a Badge from the list will change the size of each Badge, so when we only use `layout=true` we are telling Framer Motion to animate both the size and the position of the element. This is not always what you want. Luckily we can tell the component explicitly that we **only want to animate the position of the component**.

<Aside>
  Just like you can set `position="position"` you can also set it to
  `position="size"` if your use-case is the other way around where you would
  want to change the size but not the position of your element.
</Aside>
